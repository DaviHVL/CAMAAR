<div class="min-h-full flex items-center justify-center p-4">
  <div class="w-full max-w-lg bg-white rounded-xl shadow-xl p-10 flex flex-col items-center">

    <%= form_with url: admin_process_send_forms_path, method: :post, local: true, class: "w-full" do %>

      <!-- SELETOR DE TEMPLATES -->
      <div class="flex justify-end mb-4 w-full">
        <label for="template-select" class="text-sm font-medium text-gray-700 mr-2 self-center">Template:</label>
        <select id="template-select" name="template_id"
          class="block w-1/3 py-1.5 px-3 border border-gray-300 bg-white rounded-md shadow-sm 
                 focus:outline-none focus:ring-purple-500 focus:border-purple-500 sm:text-sm">

          <option value="">Selecione</option>

          <% @templates.each do |template| %>
            <option value="<%= template.id %>"><%= template.nome %></option>
          <% end %>

        </select>
      </div>

      <!-- LISTAGEM DE TURMAS -->
      <div class="mt-4 w-full">
        <div class="overflow-x-auto">
          <table class="min-w-full divide-y divide-gray-200">
            <thead>
              <tr>
                <th scope="col" class="py-2 w-10"></th>
                <th scope="col" class="py-2 text-left text-sm font-normal text-gray-800">Matéria</th>
                <th scope="col" class="py-2 text-left text-sm font-normal text-gray-800">Semestre</th>
                <th scope="col" class="py-2 text-left text-sm font-normal text-gray-800">Turma</th>
              </tr>
            </thead>

            <tbody class="bg-white divide-y divide-gray-200">

              <% @turmas.each_with_index do |turma, index| %>
                <tr class="text-gray-900">
                  
                  <!-- Checkbox -->
                  <td class="py-3 px-1 whitespace-nowrap">
                    <input 
                      type="checkbox" 
                      name="turma_ids[]" 
                      value="<%= turma.id %>"
                      id="turma-<%= index %>"
                      class="h-4 w-4 text-green-500 border-gray-300 rounded focus:ring-green-400"
                    >
                  </td>

                  <!-- MATÉRIA (associação materia.nome) -->
                  <td class="py-3 whitespace-nowrap text-base font-normal">
                    <%= turma.materia.nome %>
                  </td>

                  <!-- SEMESTRE -->
                  <td class="py-3 whitespace-nowrap text-base font-normal">
                    <%= turma.semestre %>
                  </td>

                  <!-- NUMERO DA TURMA -->
                  <td class="py-3 whitespace-nowrap text-base font-normal">
                    <%= turma.num_turma %>
                  </td>

                </tr>
              <% end %>

            </tbody>
          </table>
        </div>
      </div>

      <!-- BOTÃO ENVIAR -->
      <div class="mt-8 flex justify-center">
        <button type="submit"
                class="py-3 px-10 font-semibold rounded-lg transition duration-150 ease-in-out text-center 
                       bg-green-500 text-white hover:bg-green-600 focus:outline-none 
                       focus:ring-4 focus:ring-green-400 focus:ring-opacity-50 shadow-md w-auto">
          Enviar
        </button>
      </div>

    <% end %>

  </div>
</div>
